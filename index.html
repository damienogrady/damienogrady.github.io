<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
  <title>Î”R for Austrlian Coast</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-hash/leaflet-hash.js"></script>
    <!-- <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script> -->
  <script src="leaflet-tilelayer-colorpicker.js"></script>
</head>

<body>
  <div id="map" style="position:absolute;top:0;left:0;right:0;bottom:0;"></div>
  <script>
    var osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors', minZoom: 2, maxZoom: 5});
    var map = L.map('map', L.extend({
        center: [-26.798970273917362, 133.31412274860645],
        zoom: 5,
        minZoom: 2,
        maxZoom: 5,
        layers: [osm]
    }, L.Hash.parseHash(location.hash)));
    L.hash(map);

    // Overlay layers (TMS)
    // var lyr = L.tileLayer('./{z}/{x}/{y}.png', {tms: true, opacity: 0.7, attribution: "", minZoom: 2, maxZoom: 5});
    // var map = L.map("map", L.extend({
    //   minZoom: 0,
    //   maxZoom: 18,
    //   zoom: 5,
    //   center: [-26, 133]
    // }, L.Hash.parseHash(location.hash)));
    // L.hash(map);
    // map.zoomControl.setPosition("bottomright");

        // var lyr = L.tileLayer('./{z}/{x}/{y}.png', {tms: true, opacity: 0.7, attribution: "", minZoom: 2, maxZoom: 5});
    var colorpicker = L.tileLayer.colorPicker("./{z}/{x}/{y}.png", {
    // var colorpicker = L.tileLayer.colorPicker("https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png?nocache", {
      attribution: "<a href='http://maps.gsi.go.jp/development/ichiran.html'>Damo</a>",
      tms: true,
      minZoom: 2,
      maxZoom: 5,
      // maxNativeZoom: 14
    }).addTo(map);

    // lyr.addTo(map);

    map.on("mousemove", function(event) {
      var a = colorpicker.getColor(event.latlng);
      // if (a !== null) {
      if (1 == 2) {
        var dr = a[0];
        map.attributionControl.setPrefix(isNaN(a[0]) ? "N/A" : dr.toFixed(2) + "m");
      } else {
        map.attributionControl.setPrefix(event.latlng);
      }
    });
        // Fit to overlay bounds (SW and NE points with (lat, lon))
        map.fitBounds([[-47.15296696910837, 161.11600553034893], [-6.444973578726352, 105.51223996686399]]);
  </script>
</body>

</html>
